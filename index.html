<!doctype html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<head>
  <style>
    body{
      background-color: #FFFFFF;
      color: #000;
    }
    input{
      background-color: #581374;
      width: 300px;
      padding:10px;
      color: #fff;
    }
    div#content{
      padding:20px;
      background-color: #581374;
      color: #fff;
    }
  </style>
  <script type="text/javascript">
    function exitWebapp() {
      if (typeof webkit !== 'undefined' && webkit !== null) {
        webkit.messageHandlers.exitWebapp.postMessage({});
      } else {
        androidBridge.exitWebapp();
      }
    }
    function getCameraAndReadFilePermission() {
      if (typeof webkit !== 'undefined' && webkit !== null) {
        webkit.messageHandlers.getCameraAndReadFilePermission.postMessage({});
      } else {
        androidBridge.getCameraAndReadFilePermission();
      }
    }
    function setCameraAndReadFilePermission(granted) {
      alert("Permissions granted " + granted);
    }
    function openFeature(deeplink) {
      if (typeof webkit !== 'undefined' && webkit !== null) {
        webkit.messageHandlers.openFeature.postMessage({});
      } else {
        androidBridge.openFeature(deeplink);
      }
   }
    function disconnect() {
      androidBridge.disconnect();
   }
  </script>
</head>
<body>
  <center>
    <h1>Test mobile bridge function</h1>
    <div id="content">
      This page is use to test native bridge features
    </div>
    <div>
      Here are few examples:
    </div>
    <div>
      <input type="button" value="Exit web app" onClick="exitWebapp()" /><br/>
      <a href="tel:+33500000000">Link TEL</a>
      <input type="button" value="Get permissions" onClick="getCameraAndReadFilePermission()" /><br/>
      <input type="button" value="Show permission alert" onClick="setCameraAndReadFilePermission(false)" /><br/>
      <input type="button" value="Open Feature" onClick="openFeature('ad.dpn.link.card')" /><br/>
      <input type="button" value="Open Youtube" onclick="window.location.href = 'https://youtu.be/c4D6EETkBNE'" /><br/>
      <input type="button" value="Open Transfer CE" onclick="window.location.href = 'caisse-epargne://transfer'" /><br/>
      <input type="button" value="Open Transfer BP" onclick="window.location.href = 'banquepopulaire://transfer'" /><br/>
      <input type="button" value="Navigate inside website" onclick="window.location.href = 'http://mobilefactory.banquepopulaire.tec/environnement/environnements.php'" /><br/>
      <input type="button" value="Open other url" onclick="window.location.href = 'https://groupebpce.com/'" /><br/>
      <input type="button" value="Open PDF" onclick="window.location.href = 'https://groupebpce.com/en/content/download/16766/file/GroupeBPCE-IDentity-BD-19062019.pdf'" /><br/>
      <input type="button" value="Disconnect" onClick="disconnect()" /><br/>
      <form>
        <input type="file" accept="image/*"/>
        <input type="submit"/>
      </form>
      <form>
        <input type="file" accept="image/*" capture="camera"/>
        <input type="submit"/>
      </form>
    </div>
  </center>
</body>
</html>
